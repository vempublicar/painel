(function () {
    "use strict";

    const themeKey = "tablerTheme";
    let theme = localStorage.getItem(themeKey) || "light";

    const applyTheme = () => {
        if (theme === "dark") {
            document.body.setAttribute("data-bs-theme", "dark");
            document.body.classList.remove("theme-light");
            document.body.classList.add("theme-dark");
        } else {
            document.body.removeAttribute("data-bs-theme");
            document.body.classList.remove("theme-dark");
            document.body.classList.add("theme-light");
        }
    };

    window.toggleTheme = () => {
        theme = theme === "dark" ? "light" : "dark";
        localStorage.setItem(themeKey, theme);
        applyTheme();
    };

    // Apply the theme immediately on page load
    applyTheme();
})();

